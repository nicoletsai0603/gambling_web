!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.topay=e():t.topay=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/",n(n.s=94)}([function(t,e,n){var r=n(92),o=n(36);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e){var n="topay__frame",r=function(t,e){t&&(e||""===e)&&t.setAttribute("class",e)};t.exports={c:r,ac:function(t,e){if(t){var n=t.getAttribute("class");if(n){var o=n.split(" ");-1===o.indexOf(e)&&o.push(e),r(t,o.join(" "))}else r(t,e)}},rc:function(t,e){if(t){var n=t.getAttribute("class");if(n){var o=n.split(" "),i=o.indexOf(e);-1!==i&&o.splice(i,1),r(t,o.join(" "))}}},e:function(t,e,o,i){var a=document.createElement(t);return""===e?a.id=n:e&&(a.id=n+"_"+e),r(a,o),i&&i.appendChild(a),a},g:function(t){return document.getElementById(t?n+"_"+t:n)}}},function(t,e,n){var r=n(28)("wks"),o=n(27),i=n(3).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(17),o=n(29);t.exports=n(10)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var r=n(1),o=n(0),i=n(58),a=n(57),s=n(56);t.exports={previous:i,next:a,close:s,create:function(){var t=r.e("div","footer",o.footer);return t.appendChild(i.create()),t.appendChild(a.create()),t.appendChild(s.create()),t}}},function(t,e,n){var r=n(59),o=n(22),i=n(13),a=n(7),s=n(55),u=n(54);t.exports={frame:r,amount:o,content:i,buttons:a,message:s,error:u}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(31)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(1),o=n(0);t.exports=function t(e,n,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.create=function(){var t=r.e("div",a.id,a.className);return t.innerText=a.text,t.onclick=a.handleClick,t},this.onClick=void 0,this.handleClick=function(){a.disabled||"function"!=typeof a.onClick||a.onClick()},this.enable=function(){a.disabled=!1;var t=r.g(a.id);r.rc(t,o.disabled)},this.disable=function(){a.disabled=!0;var t=r.g(a.id);r.ac(t,o.disabled)},this.show=function(){var t=r.g(a.id);r.rc(t,o.hide)},this.hide=function(){var t=r.g(a.id);r.ac(t,o.hide)},this.id=e,this.className=n,this.text=i}},function(t,e,n){var r=n(1),o=n(0);t.exports={create:function(){return r.e("div","content",o.content)},set:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r.g("content");o&&(o.innerHTML="",e.forEach(function(t){o.appendChild(t)}))},clear:function(){var t=r.g("content");t&&(t.innerHTML="")}}},function(t,e,n){var r=n(28)("keys"),o=n(27);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(11),o=n(79),i=n(78),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(83),o=n(18);t.exports=function(t){return r(o(t))}},function(t,e){var n=[{value:"ONLINE_BANK",text:"网银支付",icon:"bank",present:"unsupport"},{value:"ONLINE_BANK_H5",text:"网银支付",icon:"bank",present:"unsupport"},{value:"UNION_PAY",text:"银联快捷",icon:"unionpay",present:"unsupport"},{value:"UNION_SCAN",text:"银联扫码",icon:"unionpay",present:"qrcode"},{value:"UNION_H5",text:"银联快捷",icon:"unionpay",present:"unsupport"},{value:"QQ_PAY",text:"QQ钱包",icon:"qq",present:"unsupport"},{value:"ALI_PAY",text:"支付宝",icon:"alipay",present:"qrcode"},{value:"WECHAT_PAY",text:"微信支付",icon:"wechat",present:"qrcode"},{value:"BAIDU_PAY",text:"百度钱包",icon:"baidu",present:"unsupport"},{value:"JD_PAY",text:"京东支付",icon:"jingdong",present:"unsupport"},{value:"ALI_H5",text:"支付宝",icon:"alipay",present:"qrcode"},{value:"WECHAT_H5",text:"微信支付",icon:"wechat",present:"qrcode"}];t.exports=function(t){return n.find(function(e){return e.value===t})||{value:t,text:t,icon:"unknown",present:"unsupport"}}},function(t,e,n){var r,o;var i=n(1),a=(r=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o.call(this),this.id=e,this.className=n,this.text=r},o=function(){var t=this;this.create=function(e){e&&(t.text=e);var n=i.e("div",t.id,t.className);return t.text&&(n.innerHTML=t.text),n},this.set=function(e){t.text=e,i.g(t.id).innerText=e}},r);t.exports=a},function(t,e,n){var r=n(1),o=n(0);t.exports={create:function(){var t=r.e("div","header",o.header),e=r.e("div",null,o.amount_container,t);return r.e("div","currency",o.currency,e),r.e("div","amount",o.amount,e),t},set:function(t,e){r.g("currency").innerText=t,r.g("amount").innerText=e}}},function(t,e,n){var r=n(34),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(65)(!0);n(33)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(17).f,o=n(9),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(4),o=n(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(32)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(16),o=n(3).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=!0},function(t,e,n){"use strict";var r=n(32),o=n(82),i=n(77),a=n(5),s=n(6),u=n(76),c=n(25),l=n(67),f=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,g,m){u(n,e,d);var y,_,b,x=function(t){if(!h&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",C="values"==v,E=!1,k=t.prototype,A=k[f]||k["@@iterator"]||v&&k[v],O=A||x(v),L=v?C?x("entries"):O:void 0,S="Array"==e&&k.entries||A;if(S&&(b=l(S.call(new t)))!==Object.prototype&&b.next&&(c(b,w,!0),r||"function"==typeof b[f]||a(b,f,p)),C&&A&&"values"!==A.name&&(E=!0,O=function(){return A.call(this)}),r&&!m||!h&&!E&&k[f]||a(k,f,O),s[e]=O,s[w]=p,v)if(y={values:C?O:x("values"),keys:g?O:x("keys"),entries:L},m)for(_ in y)_ in k||i(k,_,y[_]);else o(o.P+o.F*(h||E),e,y);return y}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){n(86);for(var r=n(3),o=n(5),i=n(6),a=n(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=i(n(91)),o=i(n(89));function i(t){return t&&t.__esModule?t:{default:t}}var a="s",s={};function u(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace,i=void 0!==n&&n,c=e.prepend,l=void 0!==c&&c,f=[],h=0;h<t.length;h++){var p=(0,o.default)(t[h],4),d=p[0],v=p[1],g=p[2],m=p[3],y=d+"-"+h;if(f.push(y),!s[y]||i){s[y]=1;var _=document.getElementById(a+y),b=!1;_||(b=!0,(_=document.createElement("style")).setAttribute("type","text/css"),_.id=a+y,g&&_.setAttribute("media",g));var x=v;m&&"function"==typeof btoa&&(x+="\n/*# sourceMappingURL=data:application/json;base64,"+u((0,r.default)(m))+"*/",x+="\n/*# sourceURL="+m.file+"?"+y+"*/"),"textContent"in _?_.textContent=x:_.styleSheet.cssText=x,b&&(l?document.head.insertBefore(_,document.head.childNodes[0]):document.head.appendChild(_))}else s[y]++}return function(t){t.forEach(function(t){if(--s[t]<=0){var e=document.getElementById(a+t);e&&e.parentNode.removeChild(e)}})}.bind(null,f)}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){(t.exports=n(37)(!1)).push([t.i,'@font-face{font-family:topaychannels;src:url("//at.alicdn.com/t/font_746115_6s74hah5hu7.eot");src:url("//at.alicdn.com/t/font_746115_6s74hah5hu7.eot?#iefix") format("embedded-opentype"),url("//at.alicdn.com/t/font_746115_6s74hah5hu7.woff") format("woff"),url("//at.alicdn.com/t/font_746115_6s74hah5hu7.ttf") format("truetype"),url("//at.alicdn.com/t/font_746115_6s74hah5hu7.svg#topaychannels") format("svg")}.topaychannels{font-family:topaychannels!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.topay-jd:before{content:"\\E633"}.topay-baidu:before{content:"\\E6B6"}.topay-unknown:before{content:"\\E642"}.topay-jingdong:before{content:"\\E62C"}.topay-bank:before{content:"\\E653"}.topay-unionpay:before{content:"\\E65B"}.topay-alipay:before{content:"\\E64B"}.topay-qq:before{content:"\\E612"}.topay-wechat:before{content:"\\E611"}',""])},function(t,e,n){var r=n(38),o=n(36);"string"==typeof r&&(r=[[t.i,r,""]]),t.exports=r.locals||{},t.exports._getContent=function(){return r},t.exports._getCss=function(){return r.toString()},t.exports._insertCss=function(t){return o(r,t)}},function(t,e){t.exports=function(t){var e="string"==typeof t?t:t.url,n=t.method||"GET",r=Object.assign({"X-Requested-With":"XMLHttpRequest"},t.headers||{}),o=t.body,i=t.timeout||6e4,a=new XMLHttpRequest,s=function(){return a.getAllResponseHeaders().split("\n").reduce(function(t,e){var n=e.split(": "),r=n[0],o=n[1];return r&&o&&(t[r]=o),t},{})},u=new Promise(function(t,u){a.open(n,e,!0),Object.keys(r).forEach(function(t){a.setRequestHeader(t,r[t])}),i>0&&(null!==a.timeout?(a.timeout=i,a.ontimeout=function(){a.hasTimeout=!0,u({body:{error:"RequestTimeout"}})}):setTimeout(function(){a.abort(),a.hasTimeout=!0},i)),a.onload=function(){var e=a.status,n=s(),r=a.response||a.responseText,o=n["Content-Type"]||n["content-type"];if(o&&o.indexOf("json")>-1)try{r=JSON.parse(r)}catch(t){}var i={status:e,headers:n,body:r};/^2|304|1223/.test(e)?t(i):(i.type="error",u(i))},a.onerror=function(){u({type:"error",status:a.status,headers:s(),body:a.response||a.responseText})},a.onabort=function(){u({body:{error:a.hasTimeout?"RequestTimeout":"RequestAbort"}})},a.withCredentials=!0,a.send(o)});return u.abort=a.abort.bind(a),u}},function(t,e,n){var r=n(40),o=function(t){if(t){var e=t.isFormData,n=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["isFormData"]);if(delete t.isFormData,!e)return!1;var r=new FormData;return Object.keys(n).forEach(function(t){var e=n[t];Array.isArray(e)?e.forEach(function(e){return r.append(t+"[]",e)}):r.append(t,n[t])}),r}},i={};["get","post","put","delete","options"].forEach(function(t){i[t]=function(e,n,i,a){return"get"===t&&(a=i,i=n,n=void 0),i||(i={}),n&&n.isFormData||(i["Content-Type"]="application/json"),r(Object.assign({url:e,method:t.toUpperCase(),body:o(n)||JSON.stringify(n),headers:i},a))}}),t.exports=i},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(41);t.exports={configure:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i,a){return o.post(t,r({amount:n,channel:a},e))}}}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={encode:function(t){var e=Object.keys(t);if(0===e.length)return"";var r=e.filter(function(e){var r=t[e],o=void 0===r?"undefined":n(r);return"undefined"!==o&&(!Array.isArray(r)||r.join("").length>0)&&("string"!==o||r)}).map(function(e){var n=t[e];return encodeURIComponent(e)+"="+encodeURIComponent(Array.isArray(n)?n.join():n)}).join("&");return r?"?"+r:""},decode:function(t){for(var e={},n=(-1!==t.indexOf("?")?t.split("?")[1]:t).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e}}},function(t,e,n){var r=n(43);t.exports=function(t){return r.decode(t).url}},function(t,e,n){var r=n(44);t.exports={cpay:r}},function(t,e,n){var r=n(8);t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setup=function(t){var e=r.error.create("支付失败: "+t.message);r.content.set(e),r.buttons.previous.show(),r.buttons.next.hide()}}},function(t,e,n){var r=n(13),o=n(7),i=n(1),a=n(0);t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setup=function(){var t=i.e("div","message",a.message);t.innerText="支付成功",r.set(t),o.previous.hide(),o.next.hide()}}},function(t,e){var n;!function(){function t(t){this.mode=a.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],o=this.data.charCodeAt(e);o>65536?(r[0]=240|(1835008&o)>>>18,r[1]=128|(258048&o)>>>12,r[2]=128|(4032&o)>>>6,r[3]=128|63&o):o>2048?(r[0]=224|(61440&o)>>>12,r[1]=128|(4032&o)>>>6,r[2]=128|63&o):o>128?(r[0]=192|(1984&o)>>>6,r[1]=128|63&o):r[0]=o,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}function o(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=g.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var i=1*o,a=0;a<this.modules[o].length;a++){var s=1*a;this.modules[o][a]&&(r.beginFill(0,100),r.moveTo(s,i),r.lineTo(s+1,i),r.lineTo(s+1,i+1),r.lineTo(s,i+1),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=g.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],o=t[n];if(null==this.modules[r][o])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(t){for(var e=g.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=g.getBCHTypeInfo(n),o=0;o<15;o++){var i=!t&&1==(r>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++){i=!t&&1==(r>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[r][a-s]){var u=!1;i<t.length&&(u=1==(t[i]>>>o&1)),g.getMask(e,r,a-s)&&(u=!u),this.modules[r][a-s]=u,-1==--o&&(i++,o=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,n,r){for(var a=o.getRSBlocks(t,n),s=new i,u=0;u<r.length;u++){var c=r[u];s.put(c.mode,4),s.put(c.getLength(),g.getLengthInBits(c.mode,t)),c.write(s)}var l=0;for(u=0;u<a.length;u++)l+=a[u].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l)&&(s.put(e.PAD0,8),!(s.getLengthInBits()>=8*l));)s.put(e.PAD1,8);return e.createBytes(s,a)},e.createBytes=function(t,e){for(var n=0,o=0,i=0,a=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++){var c=e[u].dataCount,l=e[u].totalCount-c;o=Math.max(o,c),i=Math.max(i,l),a[u]=new Array(c);for(var f=0;f<a[u].length;f++)a[u][f]=255&t.buffer[f+n];n+=c;var h=g.getErrorCorrectPolynomial(l),p=new r(a[u],h.getLength()-1).mod(h);s[u]=new Array(h.getLength()-1);for(f=0;f<s[u].length;f++){var d=f+p.getLength()-s[u].length;s[u][f]=d>=0?p.get(d):0}}var v=0;for(f=0;f<e.length;f++)v+=e[f].totalCount;var m=new Array(v),y=0;for(f=0;f<o;f++)for(u=0;u<e.length;u++)f<a[u].length&&(m[y++]=a[u][f]);for(f=0;f<i;f++)for(u=0;u<e.length;u++)f<s[u].length&&(m[y++]=s[u][f]);return m};for(var a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},u=0,c=1,l=2,f=3,h=4,p=5,d=6,v=7,g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;g.getBCHDigit(e)-g.getBCHDigit(g.G15)>=0;)e^=g.G15<<g.getBCHDigit(e)-g.getBCHDigit(g.G15);return(t<<10|e)^g.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;g.getBCHDigit(e)-g.getBCHDigit(g.G18)>=0;)e^=g.G18<<g.getBCHDigit(e)-g.getBCHDigit(g.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return g.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case u:return(e+n)%2==0;case c:return e%2==0;case l:return n%3==0;case f:return(e+n)%3==0;case h:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case p:return e*n%2+e*n%3==0;case d:return(e*n%2+e*n%3)%2==0;case v:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),n=0;n<t;n++)e=e.multiply(new r([1,m.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var o=0;o<e;o++){for(var i=0,a=t.isDark(r,o),s=-1;s<=1;s++)if(!(r+s<0||e<=r+s))for(var u=-1;u<=1;u++)o+u<0||e<=o+u||0==s&&0==u||a==t.isDark(r+s,o+u)&&i++;i>5&&(n+=3+i-5)}for(r=0;r<e-1;r++)for(o=0;o<e-1;o++){var c=0;t.isDark(r,o)&&c++,t.isDark(r+1,o)&&c++,t.isDark(r,o+1)&&c++,t.isDark(r+1,o+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<e;r++)for(o=0;o<e-6;o++)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(n+=40);for(o=0;o<e;o++)for(r=0;r<e-6;r++)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(n+=40);var l=0;for(o=0;o<e;o++)for(r=0;r<e;r++)t.isDark(r,o)&&l++;return n+=10*(Math.abs(100*l/e/e-50)/5)}},m={glog:function(t){if(t<1)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)m.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)m.EXP_TABLE[y]=m.EXP_TABLE[y-4]^m.EXP_TABLE[y-5]^m.EXP_TABLE[y-6]^m.EXP_TABLE[y-8];for(y=0;y<255;y++)m.LOG_TABLE[m.EXP_TABLE[y]]=y;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=m.gexp(m.glog(this.get(n))+m.glog(t.get(o)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=m.glog(this.get(0))-m.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+e);return new r(n,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var n=o.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],a=0;a<r;a++)for(var s=n[3*a+0],u=n[3*a+1],c=n[3*a+2],l=0;l<s;l++)i.push(new o(u,c));return i},o.getRsBlockTable=function(t,e){switch(e){case s.L:return o.RS_BLOCK_TABLE[4*(t-1)+0];case s.M:return o.RS_BLOCK_TABLE[4*(t-1)+1];case s.Q:return o.RS_BLOCK_TABLE[4*(t-1)+2];case s.H:return o.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var _=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function b(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}var x=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,n=this._el,r=t.getModuleCount();Math.floor(e.width/r),Math.floor(e.height/r);function o(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return n}this.clear();var i=o("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:e.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(i),i.appendChild(o("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(t.isDark(a,s)){var u=o("use",{x:String(a),y:String(s)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(u)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),w="svg"===document.documentElement.tagName.toLowerCase()?x:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,r=t.getModuleCount(),o=Math.floor(e.width/r),i=Math.floor(e.height/r),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<r;s++){a.push("<tr>");for(var u=0;u<r;u++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+i+"px;background-color:"+(t.isDark(s,u)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],l=(e.width-c.offsetWidth)/2,f=(e.height-c.offsetHeight)/2;l>0&&f>0&&(c.style.margin=f+"px "+l+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,r,o,i,a,s,u,c,l){if("nodeName"in t&&/img/i.test(t.nodeName))for(var f=arguments.length-1;f>=1;f--)arguments[f]=arguments[f]*e;else void 0===c&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);n.apply(this,arguments)}}var r=function(t,e){this._bIsPainted=!1,this._android=b(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return r.prototype.draw=function(t){var e=this._elImage,n=this._oContext,r=this._htOption,o=t.getModuleCount(),i=r.width/o,a=r.height/o,s=Math.round(i),u=Math.round(a);e.style.display="none",this.clear();for(var c=0;c<o;c++)for(var l=0;l<o;l++){var f=t.isDark(c,l),h=l*i,p=c*a;n.strokeStyle=f?r.colorDark:r.colorLight,n.lineWidth=1,n.fillStyle=f?r.colorDark:r.colorLight,n.fillRect(h,p,i,a),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,s,u),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,s,u)}this._bIsPainted=!0},r.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var r=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&_fFail.call(n)};return r.onabort=o,r.onerror=o,r.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(r.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,t)},r.prototype.isPainted=function(){return this._bIsPainted},r.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},r.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},r}();function C(t,e){for(var n=1,r=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),o=0,i=_.length;o<=i;o++){var a=0;switch(e){case s.L:a=_[o][0];break;case s.M:a=_[o][1];break;case s.Q:a=_[o][2];break;case s.H:a=_[o][3]}if(r<=a)break;n++}if(n>_.length)throw new Error("Too long data");return n}(n=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:s.H},"string"==typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._android=b(),this._el=t,this._oQRCode=null,this._oDrawing=new w(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(C(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},n.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},n.prototype.clear=function(){this._el.innerHTML="",this._oDrawing.clear()},n.CorrectLevel=s}(),t.exports=n},function(t,e,n){var r=n(8),o=n(1),i=n(0),a=n(20),s=n(48);t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setup=function(t){var e=r.message.create('请使用<span style="color: red">'+a(t.channel.value).text+"</span>扫码支付:"),n=o.e("div","qrcode",i.qrcode);r.content.set(e,n),r.buttons.previous.show(),r.buttons.next.hide(),new s(n,{text:t.payment,width:230,height:230})}}},function(t,e,n){var r=n(8),o=n(20),i=n(1),a=n(0);t.exports=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handleChannelClicked=function(t,e){return function(){t!==e.channel&&(e.channel?i.rc(i.g("channel_"+e.channel.value),a.selected):r.buttons.next.enable(),e.channel=t,i.ac(i.g("channel_"+t.value),a.selected))}},this.handleChannelSubmit=function(t){return function(){"function"==typeof e.onSubmit&&e.onSubmit(t)}.bind(e)},this.setup=function(t){var n=r.message.create("请选择支付方式:"),s=i.e("div","channels",a.channels);r.content.set(n,s),r.buttons.previous.hide(),r.buttons.next.show(),t.channel?r.buttons.next.enable():r.buttons.next.disable();var u=i.g("channels");u.innerHTML="",t.channels.forEach(function(n){var r=i.e("div","channel_"+n,a.channel,u),s=i.e("div",null,a.channel_content,r),c=o(n);i.e("i",null,"topaychannels topay-"+c.icon,s),i.e("div",null,null,s).innerText=c.text,r.onclick=e.handleChannelClicked(c,t),u.appendChild(r)}),t.channel&&i.ac(i.g("channel_"+t.channel.value),a.selected),r.buttons.next.onClick=e.handleChannelSubmit(t)},this.onSubmit=void 0}},function(t,e,n){var r=n(50),o=n(49),i=n(47),a=n(46);t.exports={channels:r,qrcode:o,success:i,error:a}},function(t,e){t.exports=function(t){if(t)return"function"==typeof t.then?function(){return t.apply(void 0,arguments)}:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Promise(function(e){return e(t.apply(void 0,n))})}}},function(t,e,n){var r=n(52),o=n(7),i=n(51),a=n(45);t.exports=function t(e,n,s){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateStep=function(t){u.context.steps[u.context.steps.length-1]!==t&&u.context.steps.push(t)},this.channels=function(){return u.updateStep("channels"),i.channels.setup(u.context),i.channels.onSubmit=u.onChannelSubmit.bind(u),u},this.qrcode=function(){return u.updateStep("qrcode"),i.qrcode.setup(u.context),u},this.success=function(){return u.updateStep("success"),u.context.status="success",i.success.setup(),u},this.error=function(t){return u.updateStep("error"),u.context.status="error",i.error.setup(t),u},this.onChannelSubmit=function(t){u.preparePaymentEvent(t).then(u.handlePaymentUrlReponse.bind(u),function(t){var e=t.body?t.body.message||t.body:t.message;throw new Error(e)}).then(u.onPaymentSuccessedEvent).catch(u.onErrorEvent)},this.handlePaymentUrlReponse=function(t){var e=t.body;if(!e.url)throw new Error("未找到支付地址：url");var n=e.platform&&e.platform.toLowerCase(),r=a[n];if(!r)throw new Error("未知的支付平台: "+(n||"undefined"));return u.context.payment=r(e.url),u.paymentReadyEvent(u.context)},this.onPreparePayment=function(t){return u.preparePaymentEvent=r(t),u},this.onPaymentReady=function(t){return u.paymentReadyEvent=r(t),u},this.onPaymentSuccessed=function(t){return u.paymentSuccessedEvent=r(t),u},this.onError=function(t){return u.onErrorEvent=t,u},this.handlePreviousClick=function(){u.context.steps.pop();var t=u.context.steps[u.context.steps.length-1];t&&u[t]()},this.context={amount:e,currency:n,channels:s,steps:[],status:"process"},o.previous.onClick=this.handlePreviousClick}},function(t,e,n){var r=n(21),o=n(0);t.exports=new r("error",o.error)},function(t,e,n){var r=n(21),o=n(0);t.exports=new r("message",o.message)},function(t,e,n){var r=n(12),o=n(0);t.exports=new r("close",o.close,"关闭")},function(t,e,n){var r=n(12),o=n(0);t.exports=new r("next",o.next,"下一步")},function(t,e,n){var r=n(12),o=n(0);t.exports=new r("previous",o.previous,"上一步")},function(t,e,n){var r=n(1),o=n(0),i=n(22),a=n(13),s=n(7);t.exports=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.create=function(){if(!r.g()){var t=r.e("div","backdrop",o.backdrop+" "+o.hide),e=r.e("div","",o.overlay+" "+o.hide);e.appendChild(i.create()),e.appendChild(a.create()),e.appendChild(s.create()),document.body.appendChild(t),document.body.appendChild(e)}},this.show=function(){var t=r.g(),e=r.g("backdrop");e.style.display="block",setTimeout(function(){r.c(e,o.backdrop+" "+o.show),r.c(t,o.overlay+" "+o.show)},100)},this.hide=function(){var t=r.g();if(t){var e=r.g("backdrop");r.c(e,o.backdrop+" "+o.hide),r.c(t,o.overlay+" "+o.hide),setTimeout(function(){document.body.removeChild(e),document.body.removeChild(t)},500)}}}},function(t,e,n){var r=n(23),o=n(2)("iterator"),i=n(6);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(11),o=n(60);t.exports=n(4).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(35),n(24),t.exports=n(61)},function(t,e,n){t.exports={default:n(62),__esModule:!0}},function(t,e,n){var r=n(23),o=n(2)("iterator"),i=n(6);t.exports=n(4).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){var r=n(15),o=n(18);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(9),o=n(66),i=n(14)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(15),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(15),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(19),o=n(70),i=n(69);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(9),o=n(19),i=n(71)(!1),a=n(14)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(72),o=n(26);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(17),o=n(11),i=n(73);t.exports=n(10)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(11),o=n(74),i=n(26),a=n(14)("IE_PROTO"),s=function(){},u=function(){var t,e=n(30)("iframe"),r=i.length;for(e.style.display="none",n(68).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){"use strict";var r=n(75),o=n(29),i=n(25),a={};n(5)(a,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){t.exports=n(5)},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(10)&&!n(31)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(80);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(3),o=n(4),i=n(81),a=n(5),s=n(9),u=function(t,e,n){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,g=t&u.B,m=t&u.W,y=p?o:o[e]||(o[e]={}),_=y.prototype,b=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&b&&void 0!==b[c])&&s(y,c)||(f=l?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:g&&l?i(f,r):m&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,t&u.R&&_&&!_[c]&&a(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(85),o=n(84),i=n(6),a=n(19);t.exports=n(33)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){n(35),n(24),t.exports=n(64)},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(88)),o=i(n(63));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){var r=n(4),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){t.exports={default:n(90),__esModule:!0}},function(t,e,n){(e=t.exports=n(37)(!1)).push([t.i,".YoUY8{font-family:Alright Sans LP,Avenir Next,Helvetica Neue,Helvetica,Arial,Source Han Sans SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi MicroHei,sans-serif;font-size:14px;background-color:#fff;width:95vw;max-width:700px;min-height:330px;position:absolute;top:0;left:50%;-webkit-transform:translate3d(-50%,-110%,0);transform:translate3d(-50%,-110%,0);-webkit-box-shadow:1px 1px 5px rgba(0,0,0,.2);box-shadow:1px 1px 5px rgba(0,0,0,.2);-webkit-transition:all .7s cubic-bezier(.075,.82,.165,1);-o-transition:all .7s cubic-bezier(.075,.82,.165,1);transition:all .7s cubic-bezier(.075,.82,.165,1)}.YoUY8._1lvNp{-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%)}.YoUY8._1Fanj{-webkit-transform:translate(-50%,-110%);-ms-transform:translate(-50%,-110%);transform:translate(-50%,-110%)}._3y1j8{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s;background-color:rgba(0,0,0,.5)}._3y1j8._1lvNp{opacity:1}._3y1j8._1Fanj{opacity:0}._3De2C{margin-bottom:85px}._3PQYE{text-align:right;padding:5px;position:absolute;left:0;right:0;height:50px;bottom:0;border-top:1px solid #eee}._1XOVK{text-align:center;background-color:#4578e0;-webkit-box-shadow:0 3px 2px rgba(0,27,218,.2);box-shadow:0 3px 2px rgba(0,27,218,.2);padding:20px}._2cw9k,._9dfCa{display:inline-block;font-size:24px}._9dfCa{color:#ccc;margin-right:5px}._2cw9k{color:#fff}._209pe{padding:15px;color:#666}._2REkN{padding:15px;color:#f50}._2Dlqd{padding:0 15px}._3Otud{position:relative;display:inline-block;width:100px;height:100px;border:1px solid #eee;border-radius:5px;margin-right:5px;-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s;cursor:default}._3Otud:last-child{margin-right:0}._3Otud._1l-OJ{background-color:#4578e0;color:#fff;border-color:#4578e0}._1OOhP{position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);text-align:center}._1OOhP>i{font-size:28px}._2W3vg,._3E4dC,._3Yijj{display:inline-block;margin:6px 10px;font-size:16px;padding:5px 10px;letter-spacing:2px;color:#4578e0;cursor:pointer}._2W3vg._1Fanj,._3E4dC._1Fanj,._3Yijj._1Fanj{opacity:0}._2W3vg,._3Yijj{border:1px solid #4578e0;border-radius:5px;-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}._2W3vg._2XyyL,._3Yijj._2XyyL{color:#ccc;border-color:#fff}._2W3vg{float:left}._3keMl{display:-ms-flexbox;display:flex;padding:10px;-ms-flex-pack:center;justify-content:center}@media only screen and (min-device-width:320px) and (max-device-width:480px){.YoUY8{font-size:12px;min-height:290px}._3Otud{height:75px;width:22.9%;max-width:90px}}",""]),e.locals={overlay:"YoUY8",show:"_1lvNp",hide:"_1Fanj",backdrop:"_3y1j8",content:"_3De2C",footer:"_3PQYE",amount_container:"_1XOVK",amount:"_2cw9k",currency:"_9dfCa",message:"_209pe",error:"_2REkN",channels:"_2Dlqd",channel:"_3Otud",selected:"_1l-OJ",channel_content:"_1OOhP",previous:"_2W3vg",next:"_3Yijj",close:"_3E4dC",disabled:"_2XyyL",qrcode:"_3keMl"}},function(t,e,n){var r=n(0),o=n(8),i=n(53),a=n(42);t.exports=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialize=function(){r._insertCss(),o.frame.create()},this.setup=function(t,n,r,s,u){e.initialize(),o.amount.set(n,t);var c=new i(t,n,r);c.onPreparePayment(function(e){return a.configure(s,u)(t,n,e.channel.value)}).onPaymentReady(function(t){switch(t.channel.present){case"qrcode":c.qrcode(t);break;default:throw new Error("支付方式["+t.channel.present+"]未支持")}}).onPaymentSuccessed(function(t){c.success(t)}).onError(function(t,e){c.error(t,e),console.error(t)}),c.channels(),e.steps=c,setTimeout(o.frame.show,100)},this.onClose=function(t){var n=e;o.buttons.close.onClick=function(){o.frame.hide();var e=n.steps.context,r=e.channel,i=e.status,a=e.amount,s=e.currency;t({channel:r,status:i,amount:a,currency:s})}}}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(93);n(39)._insertCss();t.exports={inquirer:function(t,e,n,i,a){return new Promise(function(s,u){!t||t<=0?u(new Error("amount参数应大于0")):e?n&&Array.isArray(n)&&0!==n.length?i?a&&"object"!==(void 0===a?"undefined":r(a))?u(new Error("options参数应为object类型")):(o.setup(t,e,n,i,a),o.onClose(s)):u(new Error("缺少url参数")):u(new Error("channels参数应为数组且至少有一个channel")):u(new Error("缺少currency参数"))})}}}])});